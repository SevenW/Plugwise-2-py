<!doctype html>
<html lang="en" ng-app="pw2pyapp">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- 
  Loading Angular, Bootstrap 3, Font Awesome, Bootstrap-UI (angular)
  -->
  <script src="/components/angularjs/angular.min.js"></script>
  <link href="/components/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="/components/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <script src="/components/ui-bootstrap/ui-bootstrap-tpls-0.11.0.min.js"></script>
<!-- Optional theme -->
<!--
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
-->

  
  <!-- 
  Loading ReconnectingWebSocket
  -->
  <script src="/components/reconnecting-websocket/reconnecting-websocket.js"></script> 
  
  <!-- 
  Loading Application scripts
  -->
  <script src="/components/pw2py.js"></script> 
  <link href="/components/pw2py.css" rel="stylesheet" type="text/css" />
  <link href="/components/switch.css" rel="stylesheet" type="text/css" />


  <meta charset='utf-8'>
  <title>Plugwise-2.py application</title>
</head>
<body>
<div ng-controller="pw2pyCtrl" id=angjscontainer>
	<div class="container">
		<div class="row cardContainer show-hide-animation" data-ng-hide="listDisplayModeEnabled">
			<div class="col-xs-12 col-sm-4 col-lg-3" data-ng-class="cardAnimationClass"
				 data-ng-repeat="circle in circles">
				<div class="card">
					<!-- <div class="cardHeader" style="white-space: nowrap;">{{circle.name}} <span style="float: right">{{circle.location}}</span></div> -->
					<div class="cardHeader" style="white-space: nowrap;">{{circle.name}} - <span style="align-text: right">{{circle.location}}</span></div>
					<div class="cardBody">
						<div class="clearfix">
							<div class="row vsize100">
								<div class="col-xs-3 vfull text-center">
									<span class="vfull vcenter cardBigBig fa {{circle.icon}}" ng-class="{'cardOn': circle.relayon == 'on', 'cardOff': circle.relayon != 'on'}"></span>
								</div>
								<div class="col-xs-9 vfull">
									<div id="toggles" class="vfull vcenter pull-right">
										<div style="width: 60px">Switch
										<input type="checkbox" name="SW{{circle.mac}}" id="SW{{circle.mac}}" class="ios-toggle" ng-class="{'ios-toggle-warning': !circle.alwayson, 'ios-toggle-disabled': circle.alwayson}" ng-true-value="'on'" ng-false-value="'off'" ng-model="circle.switch_state" ng-change="changeSwitch(circle)" ng-disabled="circle.alwayson"/>
										<label for="SW{{circle.mac}}" class="checkbox-label" data-off="off" data-on="on" ng-disabled="circle.alwayson"></label>
										</div>
									</div>
								</div>
							</div>
							<div class="row vsize100">
								<div class="col-xs-3 vfull text-center">
									<span class="vfull vcenter cardBig text-primary fa fa-lock" ng-show="circle.alwayson"/>
								</div>
								<div class="col-xs-9">
									<div id="toggles" class="pull-right">Schedule
										<input type="checkbox" name="SC{{circle.mac}}" id="SC{{circle.mac}}" class="ios-toggle" ng-class="{'ios-toggle-warning': !circle.alwayson, 'ios-toggle-disabled': circle.alwayson}" ng-true-value="'on'" ng-false-value="'off'" ng-model="circle.schedule_state" ng-change="changeSchedule(circle)" ng-disabled="circle.alwayson"/>
										<label for="SC{{circle.mac}}" class="checkbox-label center-block" data-off="off" data-on="on" ng-disabled="circle.alwayson"></label>
									<div class="cardInfo">{{circle.schedule}}</div>
									</div>
								</div>
							</div>
							<div class="row vsize50">
								<div class="col-xs-3 center-block text-center">
								<span tooltip-html-unsafe="{{circle.toolTip}}" tooltip-placement="bottom" style="font-size: 24pt"><i class="text-primary fa fa-info"></i></span>
								</div>
								<div class="col-xs-8 center-block " style="text-align: right">
									<div class="cardReading" ng-class="{'text-success': circle.production == 'True'}">
									<span class="cardOn fa fa-sun-o"  ng-show="circle.production == 'True'"></span>
									{{circle.power}}<small><small> W</small></small></div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
<div>
  <div class="footer-text">Plugwise-2-py control app &copy; 2014 sevenwatt.com.<br>
    Licensed under the The MIT License.
  </div>
<!--
  <p>Last message: {{lastmessage}}</p>
      <form class="form-inline">
      <button ng-click="disconnect()" class="btn">Disconnect</button>
      <button ng-click="connect()" class="btn">Connect</button>
      <input type="text" ng-model="text" placeholder="input message to send" class="message"></input>
      <button ng-click="sendtext()" class="btn">Send</button>
    </form>
-->

  </div>

</div> <!-- end angular section -->
</body>
</html>